window.wp=window.wp||{},function(t){window.ManageUsers={start:function(){this.setupGlobals(),this.setupListeners()},setupGlobals:function(){this.tmplUserDetails=wp.template("wpmu-user-details")},setupListeners:function(){t(window).on("load",this.onLoadWindow.bind(this)),t(document).on("click",".user-list-table table td a",this.fetchUserDetails.bind(this)),t("#userDetailModal").on("hidden.bs.modal",this.onCloseUserModal.bind(this))},onLoadWindow:function(){setTimeout(function(){t(".user-list-table table").removeClass("loading").addClass("loaded"),t(".user-list-table table tr.loader").remove()},600)},onCloseUserModal:function(){t(".user-details .user-detail-data").html(""),t(".user-details .user-detail-loading").addClass("loading").removeClass("loaded")},fetchUserDetails:function(e){e.preventDefault();var e=t(e.target),s=this,e=e.data("user-id"),a={user:{},message:""};t("#userDetailModal").modal("show"),t.ajax({url:ManageUsers.admin_url,type:"POST",data:{action:"wpmu_user_details",id:e,__nonce:ManageUsers.user.nonce},success:function(e){e.success?a.user=e.data:a.message=e.data,setTimeout(function(){t(".user-details .user-detail-data").html(s.tmplUserDetails(a)),t(".user-details .user-detail-loading").removeClass("loading").addClass("loaded")},600)},error:function(){a.message=ManageUsers.user.error,setTimeout(function(){t(".user-details .user-detail-data").html(s.tmplUserDetails(a)),t(".user-details .user-detail-loading").removeClass("loading").addClass("loaded")},600)}})}},window.ManageUsers.start()}(jQuery);